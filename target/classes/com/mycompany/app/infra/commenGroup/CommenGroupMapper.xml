<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <!-- 전체 메퍼중에서 유일한 값을 사용하여야 한다. 해서 관계적으로 해당 파일의 패스와 파일 이름 (확장자제외)그리고 dao에서 namespace와 일치시켜야 한다. -->
<mapper namespace="com.mycompany.app.infra.commenGroup.CommenGroupMapper">  
																									<!-- select결과를 받을 계체 -->
    <resultMap id="resultMapObj" type="com.mycompany.app.infra.commenGroup.CommenGroup"></resultMap>
    <sql id="group">
		seq
		, commenGroupName  
    </sql>
    
    <select id="selectList" resultMap="resultMapObj">		
    		SELECT 
    			<include refid="group"></include>
    		FROM
    				commen_Group
 				WHERE 
 					 commenGroupName LIKE CONCAT('%',#{Keyword},'%')
 				AND
 					delNY = 0	 
    </select>
    <select id="selectOne" resultMap="resultMapObj">		
    		SELECT 
    			<include refid="group"></include>
    		FROM
    				commen_Group
 				WHERE 1=1
 					AND
 					 seq = #{seq}
    </select>
    <update id="update">		
    			UPDATE commen_Group
 				SET
 					commenGroupName = #{commenGroupName}
 					, delNY = 0
 				WHERE				
 					 seq = #{seq}
    </update>
    <delete id="delete">		
    			DELETE 
    			FROM 
    					commen_Group
 				WHERE				
	 					 seq = #{seq}
    </delete>
    <insert id="save">
    			INSERT
    			INTO 	commen_Group
    					(seq, commenGroupName, delNY)
				VALUES
    					(#{seq},#{commenGroupName},0)
    </insert>
     <update id="updele">		
    			UPDATE commen_Group
 				SET
 					delNY = "1"
 				WHERE				
 					 seq = #{seq}
    </update>

</mapper>    